<!DOCTYPE html>
<html
  itemscope
  itemtype="http://schema.org/WebPage"
  lang="zh"
  class="color-toggle-hidden"
  
>
  <head>
    <meta charset="UTF-8" />
<meta name="referrer" content="no-referrer" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="generator" content="Hugo 0.109.0">
  <meta name="robots" content="index, follow" />
  <meta name="description" content="Plan RUI - tree command" />

    <title>使用tree 命令展示文件结构 | IC Steve</title>

    <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
<link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="/favicon/favicon-32x32.png"
/>
<link
  rel="icon"
  type="image/png"
  sizes="16x16"
  href="/favicon/favicon-16x16.png"
/>

    

    
  <meta
    property="og:title"
    content="使用tree 命令展示文件结构"
  />
  <meta property="og:site_name" content="IC Steve" />
  <meta property="og:description" content="Plan RUI - tree command" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://icsteve.com/zh/2021/01/tree_command/" />

<meta property="article:section" content="Posts" />
    <meta
      property="article:published_time"
      content="2021-01-03T00:00:00+00:00"
    />
    <meta
      property="article:modified_time"
      content="2021-01-03T00:00:00+00:00"
    />


  <meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="使用tree 命令展示文件结构" />
  <meta name="twitter:description" content="Plan RUI - tree command" />

<script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "articleSection": "Posts",
      "name": "使用tree 命令展示文件结构",
      "url" : "https://icsteve.com/zh/2021/01/tree_command/",
      "headline": "使用tree 命令展示文件结构",
      "description": "Plan RUI - tree command",
      "wordCount" : "1326",
      "inLanguage": "zh",
      "isFamilyFriendly": "true",
      "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://icsteve.com/zh/2021/01/tree_command/"
      },
      "keywords" : [ "RUI" , "csh" , "tree" ],
      "author" : [
      ],
      "copyrightHolder" : "IC Steve",
      "copyrightYear" : "2021",
      "dateCreated": "2021-01-03T00:00:00.00Z",
      "datePublished": "2021-01-03T00:00:00.00Z",
      "dateModified": "2021-01-03T00:00:00.00Z",
      "publisher":{
          "@type":"Organization",
          "name": "IC Steve",
          "url": "https://icsteve.com/",
          "logo": {
              "@type": "ImageObject",
              "url": "https://icsteve.com/brand.svg",
              "width":"32",
              "height":"32"
          }
      }
  }
  </script>


    
  <script src="/"></script>
<script src="/"></script>

<link
  rel="preload"
  as="font"
  href="/fonts/Metropolis.woff2"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  as="font"
  href="/fonts/LiberationSans.woff2"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  as="font"
  href="/fonts/GeekblogIcons.woff2"
  type="font/woff2"
  crossorigin="anonymous"
/>

<link
  rel="preload"
  href="/"
  as="style"
/>
<link
  rel="stylesheet"
  href="/"
  media="all"
/>

<link
  rel="preload"
  href="/"
  as="style"
/>
<link
  rel="stylesheet"
  href="/"
  media="screen and (max-width: 45rem)"
/>

<link
  rel="preload"
  href="/"
  as="style"
/>
<link
  rel="stylesheet"
  href="/"
  media="print"
/>

<link
  rel="preload"
  href="/"
  as="style"
/>
<link
  rel="stylesheet"
  href="/"
  media="all"
/>
  <link href="https://icsteve.com/zh/2021/01/tree_command/" rel="canonical" type="text/html" />
    <link href="https://icsteve.com/zh/index.xml" rel="alternate" type="application/rss+xml" title="IC Steve RSS Feed" />
    <link href="https://icsteve.com/zh/searchindex.json" rel="alternate" type="application/json" title="IC Steve searchindex Feed" />

<!-- Made with Geekblog theme https://github.com/thegeeklab/hugo-geekblog -->

    

  </head>

  <body>
    



    <div
      class="wrapper "
    >
      <header class="gblog-header">
  <div class="container flex flex-wrap">
    <div class="gblog-header__col-1 flex justify-start hidden-mobile"></div>
    <div class="gblog-header__col-2 flex align-center justify-center ">
      <a class="gblog-header__link" rel="me" href="https://icsteve.com/">
        <span class="gblog-brand flex align-center justify-center">
          <img
            class="gblog-brand__img"
            src="/brand.svg"
            alt=""
          />
          <span class="gblog-brand__title">IC Steve</span>
        </span>
        
      </a>
    </div>
    <div class="gblog-header__col-3 flex justify-end">
      <span id="gblog-color-theme">
        <svg class="gblog-icon gblog_brightness_dark">
          <title></title>
          <use xlink:href="#gblog_brightness_dark"></use>
        </svg>
        <svg class="gblog-icon gblog_brightness_light">
          <title></title>
          <use xlink:href="#gblog_brightness_light"></use>
        </svg>
        <svg class="gblog-icon gblog_brightness_auto">
          <title></title>
          <use xlink:href="#gblog_brightness_auto"></use>
        </svg>
      </span>
    </div>
  </div>
</header>
<nav class="gblog-nav">
  <input type="checkbox" id="menu-control" class="hidden" />
  <div class="gblog-nav__control">
    <label for="menu-control" class="flex align-center justify-center">
      <svg class="gblog-icon gblog_menu"><use xlink:href="#gblog_menu"></use></svg>
      <svg class="gblog-icon gblog_clear"><use xlink:href="#gblog_clear"></use></svg>
      <span>Navigation</span>
    </label>
  </div>
  <ul class="gblog-nav__list container flex flex-wrap justify-center menu-content">
    
    
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/asciinema/"
            >
              Asciinema
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/cad/"
            >
              Cad
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/cli/"
            >
              CLI
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/cloud/"
            >
              Cloud
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/collection/"
            >
              Collection
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/csh/"
            >
              Csh
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/english/"
            >
              English
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/framework/"
            >
              Framework
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/learning/"
            >
              Learning
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/notion/"
            >
              Notion
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/pm/"
            >
              Pm
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/rui/"
            >
              Rui
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/tcl/"
            >
              Tcl
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/tree/"
            >
              Tree
            </a>
          </li>
        
      
        
          <li>
            <a
              class="gblog-nav__entry"
              href="/zh/tags/youtube/"
            >
              Youtube
            </a>
          </li>
        
      
    
    
  </ul>
</nav>



      <main class="gblog-page container">
        
  <article class="gblog-post">
    <header class="gblog-post__header">
      
      


      <h1 class="gblog-post__title">使用tree 命令展示文件结构</h1>

      
        <div class="flex flex-wrap align-center gblog-post__meta gblog-post__meta--head">
          <span class="flex align-center no-wrap">
  <svg class="gblog-icon gblog_date"><use xlink:href="#gblog_date"></use></svg>
  <span class="gblog-post__tag">
    <time datetime="2021-01-03T00:00:00Z">
      
      Jan 3, 2021
    </time>
  </span>
</span>

<span class="flex align-center no-wrap">
  <svg class="gblog-icon gblog_timer"><use xlink:href="#gblog_timer"></use></svg>
  <span class="gblog-post__tag">3 min read</span>
</span>








  
    
    
      
        <span class="flex align-center no-wrap">
          <svg class="gblog-icon gblog_bookmark"><use xlink:href="#gblog_bookmark"></use></svg>
          
  <span class="gblog-post__tag gblog-button gblog-button--regular">
    <a
      class="gblog-button__link"
      href="/zh/tags/csh/"
      title="All posts tagged with 'csh'"
    >
      csh
    </a>
  </span>

        </span>
      
    
    
  
    
    
      
        <span class="flex align-center">
          
  <span class="gblog-post__tag gblog-button gblog-button--regular">
    <a
      class="gblog-button__link"
      href="/zh/tags/rui/"
      title="All posts tagged with 'RUI'"
    >
      RUI
    </a>
  </span>

        </span>
      
    
    
  
    
    
      
        <span class="flex align-center">
          
  <span class="gblog-post__tag gblog-button gblog-button--regular">
    <a
      class="gblog-button__link"
      href="/zh/tags/tree/"
      title="All posts tagged with 'tree'"
    >
      tree
    </a>
  </span>

        </span>
      
    
    
  






        </div>
      
    </header>
    <section class="gblog-markdown">
      <p><code>tree</code> 是用来帮助我们显示目录和文件结构的一个常用命令。</p>
<div class="gblog-post__anchorwrap">
    <h2 id="real-case-实例">
        Real Case 实例
        <a data-clipboard-text="https://icsteve.com/zh/2021/01/tree_command/#real-case-实例" class="gblog-post__anchor clip flex align-center" aria-label="Anchor Real Case 实例" href="#real-case-%e5%ae%9e%e4%be%8b">
            <svg class="gblog-icon gblog_link"><use xlink:href="#gblog_link"></use></svg>
        </a>
    </h2>
</div>
<p>当我们讨论某项方案，或者要和其他同事debug 一些问题的时候，难免需要展示文件夹结构，尤其是在通过视频会议来分享这些内容的时候，口头描述成为一个挑战，不仅表达不一定准确，而且会来回得确认，不断地回溯。那怎样才能清晰地表述文件结构呢？</p>
<p><code>.</code> 代表了当前文件夹，我们可以使用<code>pwd</code> 来代替它</p>
<pre><code class="language-bash">➜  tree -a --dirsfirst
.
├── test -&gt; test_3
├── test_1
│   └── file_1
├── test_2
│   └── file_2
├── test_3
│   └── file_3
└── .conf
4 directories, 4 files

➜  tree `pwd` -a --dirsfirst
/Users/steve/demo
├── test -&gt; test_3
├── test_1
│   └── file_1
├── test_2
│   └── file_2
├── test_3
│   └── file_3
└── .conf

4 directories, 4 files
</code></pre>
<div class="gblog-post__anchorwrap">
    <h2 id="understand-理解">
        Understand 理解
        <a data-clipboard-text="https://icsteve.com/zh/2021/01/tree_command/#understand-理解" class="gblog-post__anchor clip flex align-center" aria-label="Anchor Understand 理解" href="#understand-%e7%90%86%e8%a7%a3">
            <svg class="gblog-icon gblog_link"><use xlink:href="#gblog_link"></use></svg>
        </a>
    </h2>
</div>
<p>运行 tree —help 来查看tree 命令的帮助信息，如果忘记某些选项的意思的话。</p>
<pre><code class="language-bash">➜  ~ tree --help
usage: tree [-acdfghilnpqrstuvxACDFJQNSUX] [-H baseHREF] [-T title ]
	[-L level [-R]] [-P pattern] [-I pattern] [-o filename] [--version]
	[--help] [--inodes] [--device] [--noreport] [--nolinks] [--dirsfirst]
	[--charset charset] [--filelimit[=]#] [--si] [--timefmt[=]&lt;f&gt;]
	[--sort[=]&lt;name&gt;] [--matchdirs] [--ignore-case] [--fromfile] [--]
	[&lt;directory list&gt;]
  ------- Listing options -------
  -a            All files are listed.
  -d            List directories only.
  -l            Follow symbolic links like directories.
  -f            Print the full path prefix for each file.
  -x            Stay on current filesystem only.
  -L level      Descend only level directories deep.
  -R            Rerun tree when max dir level reached.
  -P pattern    List only those files that match the pattern given.
  -I pattern    Do not list files that match the given pattern.
  --ignore-case Ignore case when pattern matching.
  --matchdirs   Include directory names in -P pattern matching.
  --noreport    Turn off file/directory count at end of tree listing.
  --charset X   Use charset X for terminal/HTML and indentation line output.
  --filelimit # Do not descend dirs with more than # files in them.
  --timefmt &lt;f&gt; Print and format time according to the format &lt;f&gt;.
  -o filename   Output to file instead of stdout.
  ------- File options -------
  -q            Print non-printable characters as '?'.
  -N            Print non-printable characters as is.
  -Q            Quote filenames with double quotes.
  -p            Print the protections for each file.
  -u            Displays file owner or UID number.
  -g            Displays file group owner or GID number.
  -s            Print the size in bytes of each file.
  -h            Print the size in a more human readable way.
  --si          Like -h, but use in SI units (powers of 1000).
  -D            Print the date of last modification or (-c) status change.
  -F            Appends '/', '=', '*', '@', '|' or '&gt;' as per ls -F.
  --inodes      Print inode number of each file.
  --device      Print device ID number to which each file belongs.
  ------- Sorting options -------
  -v            Sort files alphanumerically by version.
  -t            Sort files by last modification time.
  -c            Sort files by last status change time.
  -U            Leave files unsorted.
  -r            Reverse the order of the sort.
  --dirsfirst   List directories before files (-U disables).
  --sort X      Select sort: name,version,size,mtime,ctime.
  ------- Graphics options -------
  -i            Don't print indentation lines.
  -A            Print ANSI lines graphic indentation lines.
  -S            Print with CP437 (console) graphics indentation lines.
  -n            Turn colorization off always (-C overrides).
  -C            Turn colorization on always.
  ------- XML/HTML/JSON options -------
  -X            Prints out an XML representation of the tree.
  -J            Prints out an JSON representation of the tree.
  -H baseHREF   Prints out HTML format with baseHREF as top directory.
  -T string     Replace the default HTML title and H1 header with string.
  --nolinks     Turn off hyperlinks in HTML output.
  ------- Input options -------
  --fromfile    Reads paths from files (.=stdin)
  ------- Miscellaneous options -------
  --version     Print version and exit.
  --help        Print usage and this help message and exit.
  --            Options processing terminator.
</code></pre>
<p>我挑了几个自己特别常用的来讲讲每一个选项的使用场景。可以看到很多选项和<code>ls</code> 命令是很类似的。</p>
<p><code>-a</code>, 罗列所有的文件，包括隐藏文件。在一些CAD 或者其他工作中，需要debug 的时候，或者需要展示一些隐藏的配置文件的时候，由于文件以 &ldquo;.&rdquo; 开头为隐藏文件，所以需要使用 <code>-a</code> 。</p>
<p><code>-d</code>, 仅罗列文件夹，忽略文件。在某些情况下，文件很多但是我们并不关心，我们关心的是文件夹结构，文件很有可能是临时文件，按日期生产的。在这种情况下，只列出文件夹会清晰很多。</p>
<p><code>-L</code>, 用来控制文件夹的层数。某些时候文件夹很深，文件夹内套文件夹，直接用tree 会让输出到stdout 的结果很长。这个时候如果我们只想显示两层结构，可以使用 <code>-L 2</code>.</p>
<p><code>-t</code>, 按修改时间排列文件。常用于需要展示最新生成的文件，使用这个选项就可以清晰的在tree view 的末尾找到最新被修改过的文件了。</p>
<p>另外一个好用的功能是HTML 和JSON 格式的输出。现在的HTML 文档越来越流行，html 或者json 输出无疑减轻了好多转换的工作，让我们可以更方便，更快速的将结果集成到web 应用中。</p>
<div class="gblog-post__anchorwrap">
    <h2 id="improvement-or-exercises-改进或练习">
        Improvement or Exercises 改进或练习
        <a data-clipboard-text="https://icsteve.com/zh/2021/01/tree_command/#improvement-or-exercises-改进或练习" class="gblog-post__anchor clip flex align-center" aria-label="Anchor Improvement or Exercises 改进或练习" href="#improvement-or-exercises-%e6%94%b9%e8%bf%9b%e6%88%96%e7%bb%83%e4%b9%a0">
            <svg class="gblog-icon gblog_link"><use xlink:href="#gblog_link"></use></svg>
        </a>
    </h2>
</div>
<p>尝试以下的命令，了解上面我所列出来的一些常用选项的输出结果。</p>
<p>也可以自己构建不同的结构来尝试不同的选项，平时多练习，关键时刻不掉链子:)</p>
<pre><code class="language-bash">mkdir tree_demo
cd tree_demo
mkdir -p demo_1 demo_2 demo_3 demo_4 demo_5
touch demo_1/file_1 demo_2/file_2_1 demo_2/file_2_2 demo_3/file_3 demo_5/file_5
touch .demo_6
tree `pwd`
tree `pwd` -a
tree `pwd` -a --dirsfirst
touch demo_2/file_2_2
tree `pwd` -a -t --dirsfirst
tree `pwd` -a -t -L 1 --dirsfirst
tree `pwd` -a -t -d -L 1 --dirsfirst
</code></pre>

    </section>
  </article>

      </main>

      <footer class="gblog-footer">
  <nav class="container flex">
    <div>
      <section class="flex flex-wrap align-center">
        
        
        
        
      </section>
      <section class="flex flex-wrap align-center">
        <span class="gblog-footer__item">
          Built with <a href="https://gohugo.io/" class="gblog-footer__link">Hugo</a> and
          <svg class="gblog-icon gblog_heart"><use xlink:href="#gblog_heart"></use></svg>
        </span>
      </section>
      
      
    </div>
    
      <div class="flex flex-25 justify-end">
        <span class="gblog-footer__item text-right">
          <a class="gblog-footer__link fake-link" href="#" aria-label="Back to top">
            <svg class="gblog-icon gblog_keyboard_arrow_up">
              <use xlink:href="#gblog_keyboard_arrow_up"></use>
            </svg>
            <span class="hidden-mobile">Back to top</span>
          </a>
        </span>
      </div>
    
  </nav>
</footer>

    </div>
  </body>
</html>
